if invitedBy is given in param

/register?invitedBy=<secret-code> - say companyId = 1, whose user = 2 invited current user = 5

-> user registered in the system as base role "COMPANY" -> because he can hire also in upcomming


CompanyMember:

companyId = 1
userId = 5 (current user)
roleInCompany = WORKER (It's in secret code, embeded)
hiredBy = 2 (company user)


companyId = 1
userId = 2
roleInCompany = MANAGER
hiredBy = 1 (company user)



super admin generate invite link, when user open that invite link

UI will show:

User Registration:
> Name
> Email
> Password 
> Confirm Password 
> Invite Code: <auto filled>
> base_role: COMPANY (because we have invite code from super admin)

Add Company Details:

Company Name
Company Address

user_id -> role-> admin (of company)

After Registration and Login

He can see Company Dashboard because he is admin

Now

he can add site
He can add WORKER -> generate link for worker Registration
He can add Contractor -> generate link for contractor Registration
He can add MANAGER -> generate link for manager Registration



that link is sent to the user

User Registration:

Name:
Email:
Password:
Confirm Password:
Invite Code: <auto-filled>
base_role: Company (because new user itself is a company)

<No Company Details Added>

After Login:

user_id => parent_company_id => role => worker

He can see the sites, and get the details.


Register your company ?
if registered then show below dashbaord.
if user_id created company

user_id => current_company_id => role => admin

He can add worker
he can add contractor
he can add manager
he can add site



Invites

invite_id: <int>
invited_by: <user-id> -> which tells it is user admin or what ?
invite_code: <code>
expire_time: <invitation code expire time>
base_price_up: 20% (to show the company how much to show company user about this up from the base price)



company can define it's site schema to enter the details of a site.
for each company, he can use multiple site schema.
it's avaliable in company settings, where company admin can define site schema



SU admin can invite only COMPANY_OWNER

Company admin can invite COMPANY_MEMEBER: Admin/Manager/Contractor/Worker

========================================================================================

current user is owner ? YES -> show all invites (show company invites) [contractor or woker itself is owner of default company]
current user is admin ? YES -> show his invites (show company invites) [admin is under a company]
current user is manager ? YES -> show his invites (show company invites) [manager is under a company]

owner -> mapped to which company ?

user id -> company exists for this user id ? YES -> show all invites of the company (company will exists for CONTRACTOR/WORKER -> sample company, for OWNER -> there is always a company) by default other then admin and manager invite, all users have company or mini company
user id -> company exists for this user id ? NO -> it means either ADMIN / MANGER -> get the company id from the company_members table where roleInCompany: admin/manager